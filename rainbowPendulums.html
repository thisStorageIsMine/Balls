<!DOCTYPE html>
<html lang="">
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
    <canvas id="paper"></canvas>
    <style>
      body {
          margin: 0px;
          padding: 0px;
        }
        #paper{
          background: #1b1b1b;
          width: 100vw;
          height: 100vh;
          padding: 50px;
        }
    </style>

     
    <script>
const paper = document.querySelector("#paper"),
      pen = paper.getContext("2d");
let startTime = new Date().getTime();
const colors = [
  "#fa206f",
  "#ca4d96",
  "#ab6aae",
  "#8b88c7",
  "#7a98d4",
  "#6ea3de",
  "#48c7fc",
  "#5feffd",
  "#3af5d0",
  "#2cf8be",
  "#16fba2",
  "#01ff89"
];
const music = colors.map( (color, index) => {
  const audio = new Audio(`music/BeepBox-${index} (mp3cut.net).wav`);
  
  audio.volume = 0.15;
  
  return audio;
});                       // –ß—Ç–æ-—Ç–æ –∏–∑ —ç—Ç–æ–≥–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç üëÜ üëáüèª

const playMusic = index => music[index].play();





const draw = () => {
  
  paper.width = paper.clientWidth; 
  paper.height = paper.clientHeight;
  const start = {
    x: paper.width * 0.1,
    y: paper.height * 0.75
  };
  const end = {
    x: paper.width * 0.9,
    y: paper.height * 0.75
  };
  const center = {
    x: paper.width* 0.5,  
    y: paper.height * 0.75
  }



  pen.strokeStyle = "white";
  pen.lineWidth = 6;
  pen.beginPath();
  pen.moveTo(start.x,start.y);
  pen.lineTo(end.x,end.y);
  pen.stroke();
  
  const time = 350; // –ß–µ—Ä–µ–∑ —ç—Ç–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–µ–∫—É–Ω–¥ –º–∞—è—Ç–Ω–∏–∫–∏ —Å–æ–π–¥—É—Ç—Å—è –≤–æ–µ–¥–∏–Ω–æ
  
  const currentTime = new Date().getTime(), // –¢–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è
        elapsedTime = (currentTime - startTime)/1000; // –ü—Ä–æ–π–¥–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è
  
  const lineLength = end.x - start.x ; 
  const firstArcRadius = (lineLength)* 0.1,
        spacing = (lineLength/2 - firstArcRadius) / colors.length;//–î–ª–∏–Ω–∞ –ø–æ–ª–æ—Å–∫–∏
    
  pen.beginPath();
  pen.arc(center.x,center.y,lineLength/2,Math.PI, 2*Math.PI);
  pen.stroke();
  // –¶–∏–∫–ª –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ —Ä–∞–¥–∏—É—Å–æ–≤
  colors.forEach((color, index)=>{
    const numberOfLoops = 35 - index,
          rasstoynie = Math.PI * numberOfLoops; 
    const velocity = rasstoynie/time; //–°–∫–æ—Ä–æ—Å—Ç—å –¥–≤–∏–∂–µ–Ω–∏—è –º–∞—è—Ç–Ω–∏–∫–æ–≤
    const radius = firstArcRadius + (index*spacing), // —Ä–∞–¥–∏—É—Å –∫—Ä—É–≥–∞
          distance = Math.PI + (elapsedTime*velocity) , // —É–≥–æ–ª, –∑–¥–µ—Å—å —Å–µ–π—á–∞—Å –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –∫—Ä—É–≥
          modDistance = distance % 2* Math.PI, // –ú–∞–≥–∏—è
          CorrectedDistance = modDistance >= Math.PI ? modDistance : 2*Math.PI - modDistance,
          x = center.x + radius * Math.cos(CorrectedDistance), //–ü–æ–∑–∏—Ü–∏—è –º–∞—è—Ç–Ω–∏–∫–∞ –ø–æ –•
          y = center.y+ radius * Math.sin(CorrectedDistance); 

        
    pen.lineWidth = 4;
    pen.beginPath();
    pen.strokeStyle = color;
    pen.fillStyle = color; 
    pen.moveTo(x, y);
    pen.lineTo(center.x, center.y);
    pen.strokeStyle = color;
    pen.stroke();
    });
  // –¶–∏–∫–ª –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –º–∞—è—Ç–Ω–∏–∫–æ–≤
  colors.forEach((color, index)=>{
    const numberOfLoops = 35 - index,
          rasstoynie = Math.PI * numberOfLoops; 
    const velocity = rasstoynie/time; //–°–∫–æ—Ä–æ—Å—Ç—å –¥–≤–∏–∂–µ–Ω–∏—è –º–∞—è—Ç–Ω–∏–∫–æ–≤
    const radius = firstArcRadius + (index*spacing), // —Ä–∞–¥–∏—É—Å –∫—Ä—É–≥–∞
          distance = Math.PI + (elapsedTime*velocity) , // —É–≥–æ–ª, –∑–¥–µ—Å—å —Å–µ–π—á–∞—Å –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –∫—Ä—É–≥
          modDistance = distance % 2* Math.PI, // –ú–∞–≥–∏—è
          CorrectedDistance = modDistance >= Math.PI ? modDistance : 2*Math.PI - modDistance,
          x = center.x + radius * Math.cos(CorrectedDistance), //–ü–æ–∑–∏—Ü–∏—è –º–∞—è—Ç–Ω–∏–∫–∞ –ø–æ –•
          y = center.y+ radius * Math.sin(CorrectedDistance); 
  
  
    pen.beginPath();
    pen.lineWidth = 2;
    pen.strokeStyle = "white";
    pen.fillStyle = "black"; 
    pen.arc(x,y,(lineLength)*0.0095,0,2* Math.PI);
    pen.fill();
    pen.stroke(); 
    if (distance% Math.PI ===0){
      playMusic(index);
    }
      });

    requestAnimationFrame(draw); // –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –±—Ä–∞—É–∑–µ—Ä –æ–±–Ω–æ–≤–ª—è—Ç—å draw() —Å —á–∞—Å—Ç–æ—Ç–æ–π –º–æ–Ω–∏—Ç—Ä–∞
  

  
};


draw();
    </script>
  </body>
</html>
